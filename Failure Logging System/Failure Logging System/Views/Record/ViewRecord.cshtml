@model Paging<Failure_Logging_System.Models.Driver>
@{
    ViewData["Title"] = "View Records";
}

<!-- Buttons -->
<table>
    <thead>
        <tr class="info-row">
            <th>
                <a asp-controller="Record" asp-action="Reporting" class="btn btn-black">Reporting</a>
            </th>
            <th>
                <form asp-controller="Record" asp-action="GenerateReport">
                    <button type="submit" class="btn btn-black" alt="Generate Report Button">Generate Report</button>
                </form>
            </th>
        </tr>
    </thead>
</table>
<div class="row">
    
    <div class="col-12 flex-display">
        <!-- Record List -->
        <table class="black-text">
            <thead>
                <!-- Header Columns -->
                <tr>
                    <th>
                        ID
                    </th>
                    <th>
                        Driver
                    </th>
                    <th>
                        Date
                    </th>
                    <th>
                        Type
                    </th>
                    <th>
                        Location
                    </th>
                </tr>
            </thead>
            <tbody>
                @foreach (var item in Model)
                {
                    <tr>
                        <td>
                            @Html.DisplayFor(modelItem => item.driverName)
                        </td>
                    </tr>
                }
            </tbody>
        </table>
        @{
            var prevDisabled = !Model.HasPreviousPage ? "disabled" : "";
            var nextDisabled = !Model.HasNextPage ? "disabled" : "";
        }

        <a asp-action="ViewRecord"
           asp-route-sortOrder="@ViewData["CurrentSort"]"
           asp-route-pageNumber="@(Model.PageIndex - 1)"
           asp-route-currentFilter="@ViewData["CurrentFilter"]"
           class="btn @prevDisabled">
            Previous
        </a>
        <a asp-action="ViewRecord"
           asp-route-sortOrder="@ViewData["CurrentSort"]"
           asp-route-pageNumber="@(Model.PageIndex + 1)"
           asp-route-currentFilter="@ViewData["CurrentFilter"]"
           class="btn @nextDisabled">
            Next
        </a>
        Page @(Model.TotalPages < Model.PageIndex ? 0 : Model.PageIndex) of @Model.TotalPages
    </div>
</div>